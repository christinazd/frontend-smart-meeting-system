<!DOCTYPE html>

<!--
 // WEBSITE: https://themefisher.com
 // TWITTER: https://twitter.com/themefisher
 // FACEBOOK: https://www.facebook.com/themefisher
 // GITHUB: https://github.com/themefisher/
-->

<html lang="en">
<head>
  <!-- ==============================
       BASIC META
       ============================== -->
  <meta charset="utf-8">
  <title>MeetPro</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="One page parallax responsive HTML Template">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="author" content="Themefisher">
  <meta name="generator" content="Themefisher Bingo HTML Template v1.0">
  <link rel="shortcut icon" type="image/x-icon" href="images/l1.png" />

  <!-- ==============================
       FONTS
       ============================== -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- ==============================
       THEME / VENDOR CSS (kept)
       ============================== -->
  <link rel="stylesheet" href="plugins/themefisher-font/style.css">
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="plugins/lightbox2/css/lightbox.min.css">
  <link rel="stylesheet" href="plugins/animate/animate.css">
  <link rel="stylesheet" href="plugins/slick/slick.css">
  <link rel="stylesheet" href="css/style.css">

  <!-- ==============================
       PREMIUM WHITE THEME POLISH
       ============================== -->
  <style>
    body {
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
      color: #0f172a;
      background: #ffffff;
    }
    .navigation { backdrop-filter: saturate(180%) blur(6px); }
    .hero-slider .hero-area h1 { font-weight: 800; letter-spacing: -0.015em; }
    .hero-slider .btn.btn-main { font-weight: 600; }

    /* ---------- custom slick arrows (no dots) ---------- */
    .hero-slider { position: relative; }
    .slick-arrow {
      position: absolute;
      top: 50%;
      z-index: 5;
      transform: translateY(-50%);
      width: 44px; height: 44px;
      border: none;
      border-radius: 999px;
      background: rgba(255,255,255,0.9);
      display: grid; place-items: center;
      box-shadow: 0 6px 22px rgba(2,6,23,0.18);
      cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
    }
    .slick-arrow:hover { transform: translateY(-50%) scale(1.03); background: #ffffff; }
    .slick-prev { left: 18px; }
    .slick-next { right: 18px; }
    .slick-arrow i { font-size: 18px; color: #111827; }

    /* ---------- dashboard cards ---------- */
    .dashboard-wrap { padding: 60px 0; }
    .card.premium {
      border: 1px solid #eef2f7;
      border-radius: 18px;
      box-shadow: 0 1px 2px rgba(16,24,40,.04), 0 8px 24px rgba(16,24,40,.07);
      background: #fff;
    }
    .card.premium .card-header{
      background: #fff; border-bottom: 1px solid #eef2f7; padding: 14px 18px;
    }
    .card.premium .card-body{ padding: 18px; }
    .card.premium .card-footer{ background:#fff; border-top:1px solid #eef2f7; padding:12px 18px; }

    :root{ --brand-primary:#4f46e5; --brand-accent:#22c55e; --ink-600:#475569; }
    .btn{ border-radius: 12px; font-weight: 600; letter-spacing: .01em; }
    .btn-primary{ background: var(--brand-primary); border-color: var(--brand-primary); }
    .btn-outline-primary{ color: var(--brand-primary); border-color: var(--brand-primary); }
    .btn-outline-secondary{ color: #334155; border-color: #cbd5e1; }

    .list-group-item{ border-color:#eef2f7; padding:14px 16px; }
    .table thead th{ border-color:#eef2f7; color:#334155; font-weight:700; background:#f8fafc; }
    .table td{ border-color:#eef2f7; vertical-align: middle; }
    .muted{ color:#64748b; }

    /* availability slots */
    .slot {
      display:inline-block; min-width:98px; padding:8px 10px; border-radius:10px;
      font-weight:600; font-size:13px; transition: transform .08s ease, box-shadow .12s ease;
      cursor:pointer; user-select:none;
    }
    .slot.available { background:#ecfdf5; border:1px dashed #10b981; color:#047857; }
    .slot.booked { background:#eef2ff; border:1px solid #6366f1; color:#3730a3; cursor:default; }
    .slot:hover { transform: translateY(-1px); box-shadow: 0 8px 22px rgba(2,6,23,0.06); }
    .slot.booked:hover { transform:none; box-shadow:none; }

    .dash-top h2{ font-weight:800; letter-spacing:-.02em; margin-bottom:4px; }
    .dash-top .kicker{ font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:.12em; color:var(--ink-600); }
    .badge-info{ background:var(--brand-accent); color:#032d18; font-weight:700; }
    .meeting-actions .btn{ padding:4px 8px; font-size:12px; border-radius:10px; }

    .modal-content{
      border-radius: 18px; border:1px solid #eef2f7;
      box-shadow: 0 1px 2px rgba(16,24,40,.04), 0 12px 34px rgba(16,24,40,.12);
      background:#fff;
    }
    .modal-header{ border-bottom:1px solid #eef2f7; }
    .modal-footer{ border-top:1px solid #eef2f7; }

    /* entry micro-animation */
    [data-animate]{ opacity:0; transform:translateY(8px); transition:opacity .35s ease, transform .35s ease; }
    [data-animate].in{ opacity:1; transform:none; }

    .royale-quick-actions { display:flex; justify-content:flex-end; }
.royale-card{ display:inline-block; padding:12px; border-radius:14px; backdrop-filter: blur(6px) saturate(120%); -webkit-backdrop-filter: blur(6px) saturate(120%);
background: linear-gradient(180deg, rgba(43,0,90,0.075), rgba(12,6,30,0.035));
border: 1px solid rgba(212,175,55,0.12); box-shadow: 0 6px 28px rgba(11,8,25,0.12);
min-width: 320px; max-width: 420px;
}
.royale-heading{ font-size:12px; font-weight:700; color:#439d9a; margin-bottom:8px; letter-spacing:0.6px; text-transform:uppercase; }
.royale-btn-group{ display:flex; gap:8px; align-items:center; }
.royale-btn{ display:inline-flex; align-items:center; gap:10px; padding:8px 12px; border-radius:10px; font-weight:600; font-size:13px; cursor:pointer; border:none; transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, opacity .12s ease; position:relative; overflow:hidden; }
.royale-icon{ display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; font-size:16px; }
.royale-text{ display:inline-block; white-space:nowrap; }


/* Primary (Schedule) */
.royale-primary{ color:#fff; background: linear-gradient(90deg,#50bec0 0%, #439d9a 60%); box-shadow: 0 8px 24px rgba(110,44,232,0.18), inset 0 -6px 18px rgba(0,0,0,0.06); border: 1px solid rgba(255,255,255,0.04); }


/* Accent (Join) */
.royale-join{ color:#ffffff; background: linear-gradient(90deg,#439d9a 0%, #50bec0 100%); border: 1px solid rgba(212,175,55,0.18); box-shadow: 0 6px 18px rgba(255,182,77,0.12); }


/* Outline (View minutes) */
.royale-outline{ color: rgba(255, 255, 255, 0.95);background: linear-gradient(90deg,#50bec0 0%, #439d9a 60%); border: 1px solid rgba(255,255,255,0.06); }


/* Hover & focus */
.royale-btn:hover, .royale-btn:focus{ transform: translateY(-3px); box-shadow: 0 14px 36px rgba(10,8,25,0.12); }
.royale-btn:active{ transform: translateY(-1px) scale(.995); }
.royale-btn:focus{ outline: 3px solid rgba(110,44,232,0.18); }


/* small screens: wrap nicely */
@media (max-width: 520px){
.royale-card{ width:100%; box-sizing:border-box; }
.royale-btn-group{ gap:6px; }
.royale-btn{ flex:1; justify-content:center; }
}


/* optional tiny gold accent dot */
.royale-btn::after{ content:""; position:absolute; right:8px; top:8px; width:6px; height:6px; border-radius:50%; background:linear-gradient(180deg,#fff59d,#4ca0b5); opacity:0; transform:scale(.85); transition:opacity .18s ease, transform .18s ease; }
.royale-btn:hover::after{ opacity:.9; transform:scale(1); }

.royale-upcoming{ margin-bottom:20px; }
.royale-meeting-card{ padding:20px; border-radius:18px;
  background: linear-gradient(135deg, #4fb2af, #439d9a);
  backdrop-filter: blur(8px) saturate(150%);
  border: 1px solid rgba(0, 234, 255, 0.25);
  box-shadow: 0 10px 32px rgba(177, 177, 178, 0.45);
  color:#eee; position:relative; overflow:hidden;
}
.royale-card-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:14px; }
.royale-badge{ font-size:12px; font-weight:700; padding:4px 10px; border-radius:8px;
  background:linear-gradient(90deg,#bbdee4,#b1eaf1); color:#4fb2af; }
.royale-status{ font-size:13px; font-weight:600; color:#4fb2af; }
.royale-meeting-main{ display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap; }
.royale-meeting-info{ flex:1; }
.royale-meeting-list{ list-style:none; margin:0; padding:0; }
.royale-meeting-list li{ padding:10px 0; border-bottom:1px solid rgba(255,255,255,0.08); }
.royale-meeting-list li:last-child{ border-bottom:none; }
.royale-meeting-actions{ display:flex; align-items:center; }
.royale-btn{ padding:8px 14px; border-radius:10px; font-weight:600; cursor:pointer; transition:.2s; }
.royale-outlinee{ background:transparent; border:1px solid rgba(255,255,255,0.25); color:#eee; }
.royale-btn:hover{ transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,0.25); }

/* ðŸŒŒ Royale Ultra Availability */
.royale-ultra {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  border: 1px solid rgba(170, 225, 234, 0.25);
  box-shadow: 0 12px 40px rgba(0,0,0,0.08);
  overflow: hidden;
}

.royale-ultra .card-header {
  padding: 1.2rem 1.5rem;
  background: linear-gradient(90deg, #cfebf0, #fff);
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

.royale-title {
  font-weight: 800;
  font-size: 1.3rem;
  background: linear-gradient(90deg, #4fb2af, #50bec0, #079590);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: 0.5px;
}

.date-badge {
  background: linear-gradient(90deg, #84dee4, #ffffff);
  border: 1px solid #50bec0;
  padding: 6px 14px;
  border-radius: 30px;
  font-size: 13px;
  font-weight: 600;
  color: #50bec0;
  box-shadow: 0 3px 10px rgba(0,0,0,0.05);
}

.availability-timeline {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
  padding: 25px;
}

.slot-ultra {
  border-radius: 16px;
  padding: 20px;
  background: linear-gradient(145deg, #ffffff, #fdf5e6);
  border: 1px solid rgba(0,0,0,0.05);
  box-shadow: 0 6px 20px rgba(0,0,0,0.06);
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
}

.slot-ultra:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 12px 30px rgba(0,0,0,0.1);
}

.slot-room {
  font-size: 16px;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 6px;
}

.slot-time {
  font-size: 14px;
  color: #666;
}

.slot-status {
  position: absolute;
  top: 12px;
  right: 15px;
  font-size: 12px;
  padding: 3px 10px;
  border-radius: 12px;
  font-weight: 600;
}

.slot-ultra.available .slot-status {
  background: rgba(46, 204, 113, 0.15);
  color: #479a89;
}

.slot-ultra.busy .slot-status {
  background: rgba(231, 76, 60, 0.15);
  color: #9d3333;
}

.slot-ultra.pending .slot-status {
  background: rgba(241, 196, 15, 0.15);
  color: #037a9a;
}

/* Footer Legend */
.legend {
  display: flex;
  gap: 15px;
  font-size: 13px;
}

.legend-item {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 6px;
}

.legend-item.available { background: #479a89; }
.legend-item.busy { background: #9d3333;; }
.legend-item.pending { background: #037a9a; }

.footer-tip {
  font-size: 13px;
  color: #555;
}


/* ðŸŒŒ Royale Legendary Notifications */
.royale-notif-card {
  padding: 18px;
  border-radius: 20px;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(14px) saturate(160%);
  border: 1px solid rgba(79,178,175,0.25);
  box-shadow: 0 10px 36px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  min-height: 340px;
}

.royale-notif-header {
  margin-bottom: 14px;
}

.royale-badge-glow {
  background: linear-gradient(90deg,#50bec0,#439d9a);
  color: #fff;
  font-weight: 700;
  padding: 4px 12px;
  border-radius: 30px;
  font-size: 13px;
  box-shadow: 0 0 12px rgba(79,178,175,0.6);
  animation: pulseGlow 2.5s infinite;
}

@keyframes pulseGlow {
  0% { box-shadow: 0 0 0 rgba(79,178,175,0.5); }
  50% { box-shadow: 0 0 20px rgba(79,178,175,0.9); }
  100% { box-shadow: 0 0 0 rgba(79,178,175,0.5); }
}

.royale-notif-list {
  list-style: none;
  margin: 0;
  padding: 0;
  flex: 1;
  overflow-y: auto;
  max-height: 220px;
}

.royale-notif-item {
  display: flex;
  align-items: center;
  padding: 12px 10px;
  margin-bottom: 8px;
  border-radius: 14px;
  background: rgba(255,255,255,0.65);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  transition: transform 0.18s ease, box-shadow 0.2s ease;
  cursor: pointer;
}
.royale-notif-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}

.royale-notif-icon {
  flex-shrink: 0;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 16px;
  margin-right: 12px;
}

.royale-notif-text {
  flex: 1;
  font-size: 14px;
  color: #2c3e50;
}

.royale-notif-time {
  font-size: 12px;
  font-weight: 600;
  color: #64748b;
  margin-left: 8px;
}

/* Status variants */
.royale-notif-item.success .royale-notif-icon {
  background: rgba(46, 204, 113, 0.2);
  color: #2ecc71;
}
.royale-notif-item.warning .royale-notif-icon {
  background: rgba(241, 196, 15, 0.2);
  color: #f39c12;
}
.royale-notif-item.error .royale-notif-icon {
  background: rgba(231, 76, 60, 0.2);
  color: #e74c3c;
}
.royale-notif-item.info .royale-notif-icon {
  background: rgba(79,178,175,0.2);
  color: #439d9a;
}

.royale-notif-footer {
  margin-top: 12px;
}

  </style>
</head>

<body id="body">
  <!-- PRELOADER REMOVED (kept snappy) -->

  <!-- ==============================
       NAVIGATION (UNCHANGED)
       ============================== -->
  <header class="navigation fixed-top">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light px-0">
        <a class="navbar-brand logo" href="index.html">
          <img loading="lazy" class="logo-default" src="images/l1.png" alt="logo" height="60" width="60" />
          
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navigation">
          <ul class="navbar-nav ml-auto text-center">
            <li class="nav-item"><a class="nav-link" href="index.html">Homepage</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
            <li class="nav-item"><a class="nav-link" href="admin.html">Admin Panel</a></li>
            <li class="nav-item"><a class="nav-link" href="schedule.html">Schedule</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#!" id="navbarDropdown02" role="button" data-toggle="dropdown"
                 aria-haspopup="true" aria-expanded="false">
                Booking <i class="tf-ion-chevron-down"></i>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown02">
                <li><a class="dropdown-item" href="meetingroombooking.html">Meeting Room Booking</a></li>
                <li><a class="dropdown-item" href="activemeetingsreen.html">Active Meeting Screen</a></li>
                <li><a class="dropdown-item" href="mom.html">Minutes of Meeting</a></li>
              </ul>
            </li>
            
            <li class="nav-item" id="logoutBTn">
              <a class="nav-link" href="login.html">Logout</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <!-- ==============================
       LOGIN/LOGOUT NAV STATE
       ============================== -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const loginLogoutNav = document.getElementById("loginLogoutNav");
      const isLoggedIn = localStorage.getItem("loggedIn") === "true";
      if (isLoggedIn) {
        loginLogoutNav.innerHTML = `<a class="nav-link" href="#" id="logoutBtn">Logout</a>`;
        document.getElementById("logoutBtn").addEventListener("click", function (e) {
          e.preventDefault();
          localStorage.removeItem("loggedIn");
          window.location.href = "index.html";
        });
      } else {
        loginLogoutNav.innerHTML = `<a class="nav-link" href="login.html">Login</a>`;
      }
    });
  </script>

  <!-- ==============================
       SLIDER (images stay the same) WITH ARROWS
       ============================== -->
  <div class="hero-slider">
    <div class="slider-item th-fullpage hero-area" style="background-image: url(images/slider/ma.jpg);">
      <div class="container">
        <div class="row">
          <div class="col-md-12 text-center">
            <h1 data-duration-in=".3" data-animation-in="fadeInUp" data-delay-in=".1">All Your Meetings, <br> One Control Center</h1>
            <h4 style="color: white;" data-duration-in=".3" data-animation-in="fadeInUp" data-delay-in=".5">
              schedule, analyze, and act with confidence
            </h4>
            <a data-duration-in=".3" data-animation-in="fadeInUp" data-delay-in=".8" class="btn btn-main" href="about.html">Explore Us</a>
          </div>
        </div>
      </div>
    </div>
    <div class="slider-item th-fullpage hero-area" style="background-image: url(images/slider/nn.jpg);">
      <div class="container">
        <div class="row">
          <div class="col-md-12 text-center">
            <h1 data-duration-in=".3" data-animation-in="fadeInDown" data-delay-in=".1">Meet Smarter</h1>
            <h4 style="color: white;" data-duration-in=".3" data-animation-in="fadeInDown" data-delay-in=".5">
              your dashboard that turns meeting static into strategic motion.
            </h4>
            <a data-duration-in=".3" data-animation-in="fadeInDown" data-delay-in=".8" class="btn btn-main" href="about.html">Explore Us</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- =========================================================
       DASHBOARD (premium white)
       ========================================================= -->
  <section id="dashboard" class="dashboard-wrap">
    <div class="container" data-animate>
      <div class="d-flex align-items-center justify-content-between mb-4">
        <div class="dash-top">
          <div class="kicker">Control Center</div>
          <h2 class="mb-0" id="dashboard-title">Dashboard :</h2>
          <div class="muted small" id="dashDate"></div>
        </div>
        <div class="royale-quick-actions" aria-label="Quick Actions">
<div class="royale-card">
<div class="royale-heading">Quick Actions</div>
<div class="royale-btn-group" role="group">
<button class="royale-btn royale-primary" data-toggle="modal" data-target="#scheduleModal" aria-label="Schedule meeting">
<span class="royale-icon"><i class="ti-plus"></i></span>
<span class="royale-text">Schedule</span>
</button>


<button class="royale-btn royale-join" id="joinNowBtn" aria-label="Join meeting now">
<span class="royale-icon"><i class="ti-video-camera"></i></span>
<span class="royale-text">Join Now</span>
</button>


<a class="royale-btn royale-outline" id="viewMinutesBtn" href="#!" aria-label="View minutes">
<span class="royale-icon"><i class="ti-agenda"></i></span>
<span class="royale-text">Minutes</span>
</a>
</div>
</div>
</div>
      </div>
<div class="row">
        <div class="col-lg-8 mb-4" data-animate>
          <!-- START: Royale Upcoming Meeting -->
<div class="royale-upcoming" aria-label="Upcoming Meetings">
  <div class="royale-meeting-card">
    <div class="royale-card-header">
      <div class="royale-badge">Upcoming Meetings</div>
      <span class="royale-status" id="upcomingCount">0</span>
    </div>

    <div class="royale-meeting-main">
      <div class="royale-meeting-info">
        <!-- dynamic content will be injected into this list -->
        <ul class="royale-meeting-list" id="upcomingList"></ul>
      </div>

      <div class="royale-meeting-actions">
        <button class="royale-btn royale-outlinee" id="exportMeetingsBtn">
          <i class="ti-download"></i> Export (.json)
        </button>
      </div>
    </div>
  </div>
</div>
<!-- END: Royale Upcoming Meeting -->



<!-- ðŸŒŒ Royale Ultra Availability -->
<div class="card royale-ultra mb-5">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h4 class="royale-title mb-0">Room Availability</h4>
    <div class="date-badge" id="royaleUltraDate"></div>
  </div>

  <div class="card-body">
    <div class="availability-timeline" id="royaleUltraGrid">
      <!-- Dynamic slots injected -->
    </div>
  </div>

  <div class="card-footer d-flex justify-content-between align-items-center">
    <small class="footer-tip">
      <i class="ti-crown text-warning"></i> Tap a free slot to schedule in style.
    </small>
    <div class="legend">
      <span class="legend-item available"></span> Free
      <span class="legend-item busy"></span> Occupied
      <span class="legend-item pending"></span> Pending
    </div>
  </div>
</div>



</div>

        </div>

        <!-- ðŸŒŒ Royale Legendary Notifications -->
<div class="royale-notif-card">
  <div class="royale-notif-header d-flex align-items-center justify-content-between">
    <h5 class="royale-title mb-0">
      <i class="ti-bell"></i> Notifications
    </h5>
    <span class="royale-badge-glow" id="notifCount">0</span>
  </div>

  <ul class="royale-notif-list" id="notifList">
    <!-- Dynamic notifications will be injected here -->
    <!-- Example static notification -->
    <!--
    <li class="royale-notif-item success">
      <div class="royale-notif-icon"><i class="ti-check"></i></div>
      <div class="royale-notif-text">
        <strong>Meeting confirmed:</strong> Strategy Review at 10 AM
      </div>
      <div class="royale-notif-time">2m ago</div>
    </li>
    -->
  </ul>

  <div class="royale-notif-footer text-right">
    <button class="royale-btn royale-outline" id="clearNotifsBtn">
      <i class="ti-trash"></i> Clear All
    </button>
  </div>
</div>

      </div>
      
    </div>

    <!-- Schedule Modal -->
    <div class="modal fade" id="scheduleModal" tabindex="-1" role="dialog" aria-labelledby="scheduleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="scheduleModalLabel">Schedule a Meeting</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
          </div>
          <form id="scheduleForm">
            <div class="modal-body">
              <div class="form-group">
                <label>Title</label>
                <input type="text" class="form-control" id="mTitle" placeholder="e.g., Quarterly Strategy Review" required>
              </div>
              <div class="form-row">
                <div class="form-group col-7">
                  <label>Date & Start Time</label>
                  <input type="datetime-local" class="form-control" id="mStart" required>
                </div>
                <div class="form-group col-5">
                  <label>Duration (minutes)</label>
                  <input type="number" min="15" step="15" class="form-control" id="mDuration" value="60" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-6">
                  <label>Room</label>
                  <select class="form-control" id="mRoom"></select>
                </div>
                <div class="form-group col-6">
                  <label>Participants (emails, comma-separated)</label>
                  <input type="text" class="form-control" id="mParticipants" placeholder="a@x.com, b@y.com">
                </div>
              </div>
              <div class="form-group">
                <label>Description / Agenda</label>
                <textarea class="form-control" id="mDescription" rows="3" placeholder="Key points, goals..."></textarea>
              </div>
              <div class="alert alert-warning d-none" id="conflictAlert">
                <strong>Room conflict:</strong> This room is already booked for the selected time.
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-outline-secondary" type="button" data-dismiss="modal">Cancel</button>
              <button class="btn btn-primary" type="submit">Save Meeting</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Minutes Modal -->
    <div class="modal fade" id="minutesModal" tabindex="-1" role="dialog" aria-labelledby="minutesModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="minutesModalLabel">Meeting Minutes</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
          </div>
          <div class="modal-body" id="minutesBody"></div>
          <div class="modal-footer">
            <button class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
            <button class="btn btn-primary" id="saveMinutesBtn">Save Minutes</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ==============================
       DASHBOARD LOGIC
       ============================== -->
  <script>
  (function(){
      const ROOMS = ["Orion", "Nova", "Atlas", "Lyra"];
    const DAY_START_H = 8, DAY_END_H = 18;
    const KEY_MEETINGS = "sms_meetings";
    const KEY_MINUTES  = "sms_minutes";
    const KEY_NOTIFS   = "sms_notifications";

     const dashDateEl         = document.getElementById("dashDate");
   
    
   
    const upcomingListEl     = document.getElementById("upcomingList");
    const upcomingCountEl    = document.getElementById("upcomingCount");
    const notifListEl        = document.getElementById("notifList");
    const notifCountEl       = document.getElementById("notifCount");

    const joinNowBtn         = document.getElementById("joinNowBtn");
    const viewMinutesBtn     = document.getElementById("viewMinutesBtn");
    const exportMeetingsBtn  = document.getElementById("exportMeetingsBtn");
    const clearNotifsBtn     = document.getElementById("clearNotifsBtn");

    const form               = document.getElementById("scheduleForm");
    const conflictAlert      = document.getElementById("conflictAlert");
    const mTitle             = document.getElementById("mTitle");
    const mStart             = document.getElementById("mStart");
    const mDuration          = document.getElementById("mDuration");
    const mRoom              = document.getElementById("mRoom");
    const mParticipants      = document.getElementById("mParticipants");
    const mDescription       = document.getElementById("mDescription");

    const minutesBody        = document.getElementById("minutesBody");
    const saveMinutesBtn     = document.getElementById("saveMinutesBtn");

    const now      = () => new Date();
    const toISO    = d => new Date(d).toISOString();
    const pad      = n => String(n).padStart(2,"0");
    const fmtTime  = d => `${pad(d.getHours())}:${pad(d.getMinutes())}`;
    const fmtDate  = d => d.toLocaleDateString(undefined,{weekday:'long', year:'numeric', month:'long', day:'numeric'});
    const parse    = v => new Date(v);
    const overlaps = (aStart, aEnd, bStart, bEnd) => aStart < bEnd && bStart < aEnd;

    function load(key, fallback){ try { return JSON.parse(localStorage.getItem(key)) ?? fallback; } catch(e){ return fallback; } }
    function save(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
    function addMinutes(date, minutes){ return new Date(date.getTime() + minutes*60000); }
    function startOfToday(){ const t = now(); return new Date(t.getFullYear(), t.getMonth(), t.getDate(), 0,0,0,0); }
    function isNowBetween(s, e){ const t = now(); return t >= s && t <= e; }
    function slugify(s){ return s.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,''); }
    function cryptoRandom(){
      if (window.crypto && crypto.getRandomValues) {
        const a = new Uint32Array(4); crypto.getRandomValues(a);
        return Array.from(a).map(x=>x.toString(16)).join("");
      }
      return 'id-' + Math.random().toString(36).slice(2);
    }

    // seed demo data once
    
    

    
     
    function renderUpcoming(){
      const meetings = load(KEY_MEETINGS, []);
      const upcoming = meetings
        .filter(m => parse(m.start) >= new Date(startOfToday().getTime() - 24*60*60*1000))
        .sort((a,b)=> new Date(a.start)-new Date(b.start));
      upcomingCountEl.textContent = upcoming.length;
      if(upcoming.length === 0){
        upcomingListEl.innerHTML = `<li class="list-group-item muted">No upcoming meetings.</li>`;
        return;
      }
      upcomingListEl.innerHTML = upcoming.map(m => {
        const s = parse(m.start);
        const e = addMinutes(s, m.duration);
        const live = isNowBetween(s,e);
        const liveBadge = live ? `<span class="badge badge-info ml-2">LIVE</span>` : '';
        return `
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
              <div class="font-weight-bold">${m.title} ${liveBadge}</div>
              <div class="small muted">
                ${s.toLocaleDateString()} ${fmtTime(s)}â€“${fmtTime(e)} â€¢ Room ${m.room}
              </div>
            </div>
            <div class="meeting-actions btn-group">
              <a class="btn btn-outline-primary btn-sm" href="${m.join || '#!'}">Join</a>
              <button class="btn btn-outline-secondary btn-sm" data-id="${m.id}" data-action="minutes">Minutes</button>
              <button class="btn btn-outline-danger btn-sm" data-id="${m.id}" data-action="delete">Delete</button>
            </div>
          </li>`;
      }).join("");

      upcomingListEl.querySelectorAll('button[data-action]').forEach(btn=>{
        const id = btn.getAttribute('data-id');
        const action = btn.getAttribute('data-action');
        if(action === 'delete'){
          btn.addEventListener('click', ()=>{
            const meetings = load(KEY_MEETINGS, []);
            save(KEY_MEETINGS, meetings.filter(m=>m.id !== id));
            pushNotif("info", "Meeting deleted.");
            refresh();
          });
        }
        if(action === 'minutes'){
          btn.addEventListener('click', ()=> openMinutes(id));
        }
      });
    }

    function pushNotif(type, text){
      const notifs = load(KEY_NOTIFS, []);
      notifs.unshift({ id: cryptoRandom(), ts: Date.now(), type, text });
      save(KEY_NOTIFS, notifs.slice(0, 50));
      renderNotifs();
    }
    function renderNotifs(){
      const notifs = load(KEY_NOTIFS, []);
      notifCountEl.textContent = notifs.length;
      if(notifs.length === 0){
        notifListEl.innerHTML = `<li class="list-group-item muted">No notifications.</li>`;
        return;
      }
      notifListEl.innerHTML = notifs.map(n=>{
        const badge = n.type === 'warn' ? 'badge-danger' : (n.type==='info' ? 'badge-info' : 'badge-secondary');
        return `<li class="list-group-item d-flex justify-content-between align-items-center">
          <span>${n.text}</span>
          <span class="badge ${badge}">${new Date(n.ts).toLocaleTimeString()}</span>
        </li>`;
      }).join("");
    }

    function openMinutes(id){
      const meetings = load(KEY_MEETINGS, []);
      const minutes = load(KEY_MINUTES, {});
      const m = meetings.find(x=>x.id===id);
      if(!m) return;
      $('#minutesModal').modal('show');
      minutesBody.innerHTML = `
        <div class="mb-1 muted small">${new Date(m.start).toLocaleString()} â€¢ Room ${m.room}</div>
        <h5 class="mb-3">${m.title}</h5>
        <div class="form-group">
          <label>Minutes / Notes</label>
          <textarea class="form-control" id="minutesText" rows="8" placeholder="Decisions, action items, owners...">${minutes[id] || ''}</textarea>
        </div>`;
      saveMinutesBtn.onclick = function(){
        const text = document.getElementById('minutesText').value.trim();
        const map = load(KEY_MINUTES, {});
        map[id] = text;
        save(KEY_MINUTES, map);
        pushNotif('info', 'Minutes saved.');
        $('#minutesModal').modal('hide');
        refresh();
      }
    }

    viewMinutesBtn.addEventListener('click', function(e){
      e.preventDefault();
      const meetings = load(KEY_MEETINGS, []).sort((a,b)=> new Date(b.start)-new Date(a.start));
      if(meetings.length === 0){ pushNotif('warn','No meetings available yet.'); return; }
      openMinutes(meetings[0].id);
    });
    joinNowBtn.addEventListener('click', function(){
      const meetings = load(KEY_MEETINGS, []);
      const live = meetings.find(m=>{
        const s = parse(m.start), e = addMinutes(s, m.duration);
        return isNowBetween(s,e);
      });
      if(live){ window.location.href = live.join || '#!'; }
      else{ pushNotif('warn', 'No meeting is live right now.'); }
    });
    exportMeetingsBtn.addEventListener('click', function(){
      const data = JSON.stringify(load(KEY_MEETINGS, []), null, 2);
      const blob = new Blob([data], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'meetings.json'; a.click();
      URL.revokeObjectURL(url);
    });
    clearNotifsBtn.addEventListener('click', function(){
      save(KEY_NOTIFS, []);
      renderNotifs();
    });

    form.addEventListener('submit', function(e){
      e.preventDefault();
      conflictAlert.classList.add('d-none');

      const title = mTitle.value.trim();
      const start = parse(mStart.value);
      const duration = parseInt(mDuration.value, 10);
      const room = mRoom.value;
      const participants = (mParticipants.value || '').split(',').map(s=>s.trim()).filter(Boolean);
      const description = mDescription.value.trim();

      if(!title || isNaN(start.getTime()) || !duration || !room){ return; }

      const meetings = load(KEY_MEETINGS, []);
      const s = start, e2 = addMinutes(start, duration);
      const hasConflict = meetings.some(m=>{
        if(m.room !== room) return false;
        const ms = parse(m.start), me = addMinutes(ms, m.duration);
        return overlaps(ms, me, s, e2);
      });
      if(hasConflict){
        conflictAlert.classList.remove('d-none');
        return;
      }

      const newMeeting = {
        id: cryptoRandom(),
        title, start: start.toISOString(),
        duration, room, participants, description,
        join: "/meet/" + slugify(title)
      };
      meetings.push(newMeeting);
      save(KEY_MEETINGS, meetings);
      pushNotif('info', `Meeting "${title}" scheduled.`);
      $('#scheduleModal').modal('hide');
      form.reset();
      refresh();
    });

    function refresh(){  renderUpcoming(); renderNotifs(); }
    function scheduleTick(){
      const meetings = load(KEY_MEETINGS, []);
      const t = Date.now();
      meetings.forEach(m=>{
        const ms = parse(m.start).getTime();
        if (ms > t && (ms - t) <= 15*60*1000){
          pushNotif('info', `Upcoming: "${m.title}" at ${new Date(m.start).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}`);
        }
      });
    }

    const startApp = () => {
      refresh();
      setInterval(scheduleTick, 60000);
      requestAnimationFrame(()=>{ document.querySelectorAll('[data-animate]').forEach(el=> el.classList.add('in')); });
    };
    if ('requestIdleCallback' in window) { requestIdleCallback(startApp, { timeout: 300 }); }
    else { setTimeout(startApp, 0); }
  })();
  </script>

  <!-- ==============================
       ORDERED JS (ensure Popper before Bootstrap)
       ============================== -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js" integrity="sha512-â€¦"
          crossorigin="anonymous"></script>
  <script src="plugins/bootstrap/bootstrap.min.js"></script>
  <script src="plugins/slick/slick.min.js"></script>

  <script>
    // SLIDER INIT â€” arrows enabled, dots off, custom buttons
    $(function(){
      var $slider = $('.hero-slider');
      if ($slider.length && typeof $slider.slick === 'function') {
        $slider.slick({
          arrows: true,
          dots: false,          // <â€” no numbered dots
          autoplay: true,
          autoplaySpeed: 5000,
          fade: true,
          speed: 700,
          cssEase: 'ease-in-out',
          pauseOnHover: false,
          adaptiveHeight: false,
          prevArrow: '<button type="button" class="slick-prev" aria-label="Previous slide"><i class="tf-ion-chevron-left"></i></button>',
          nextArrow: '<button type="button" class="slick-next" aria-label="Next slide"><i class="tf-ion-chevron-right"></i></button>'
        });
      }
    });


   // document.getElementById('logoutBtn').addEventListener('click', logout);

document.getElementById("logoutBtn").addEventListener("click", function (e) {
  e.preventDefault();
  // Clear all auth-related localStorage keys and cookies so switching users works reliably
  ['token','user','role','loggedIn'].forEach(k => localStorage.removeItem(k));
  // Clear our session cookies (if present)
  document.cookie = 'sms_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';
  document.cookie = 'sms_user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';
  window.location.href = "index.html";
});











  // Example: fetch current user and show name
 
(async () => {
  try {
    if (typeof authFetch !== 'function') {
      // authFetch isn't loaded yet (js/api.js). Defer until DOM is ready.
      document.addEventListener('DOMContentLoaded', () => {
        if (typeof authFetch === 'function') {
          authFetch('/user').then(r => r.json())
            .then(me => {
              const el = document.getElementById('welcomeUser');
              if (el) el.textContent = me.name || me.email || 'User';
            }).catch(()=>{/* ignore */});
        }
      });
      return;
    }
    const res = await authFetch('/user');
    const me = await res.json();
    const el = document.getElementById('welcomeUser');
    if (el) el.textContent = me.name || me.email || 'User';
  } catch (e) {
    console.error('Failed to load user', e);
  }
})();
  </script>
  <script src="js/guard.js"></script>
  <script src="js/api.js"></script>
  <script src="js/role-visibility.js"></script>






<script>
document.addEventListener('DOMContentLoaded', () => {
  const h2 = document.getElementById('dashboard-title');
  const stored = localStorage.getItem('user');
  if (!h2 || !stored) return;

  try {
    const u = JSON.parse(stored);
    if (u && u.name) {
      const span = document.createElement('span');
      span.style.marginLeft = '1rem';
      span.style.borderRight = '2px solid #2575fc';
      span.style.paddingRight = '5px';
      span.style.fontWeight = '600';
      span.style.fontSize = '1.6rem';
      h2.appendChild(span);

      const fullText = ` Welcome, ${u.name}`;
      let i = 0;
      function typeWriter() {
        if (i < fullText.length) {
          span.textContent += fullText.charAt(i);
          i++;
          setTimeout(typeWriter, 100);
        } else {
          span.style.borderRight = 'none';
        }
      }
      typeWriter();
    }
  } catch (e) {
    console.error("Error loading user:", e);
  }
});
</script>


<style>
.dash-top {
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border-radius: 1rem;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  text-align: center;
}

.dash-top .kicker {
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 1px;
  color: #495057;
}

.dash-top h2 {
  font-size: 1.6rem;
  font-weight: 600;
  color: #2e8789;
}

.dash-top .muted {
  font-size: 0.95rem;
  font-weight: 500;
  color: #6c757d;
  margin-top: 0.5rem;
}
</style>



<script>
document.addEventListener('DOMContentLoaded', () => {
  const dashDate = document.getElementById('dashDate');
  if (dashDate) {
    function updateTime() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const dateStr = now.toLocaleDateString('en-US', options);
      const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
      dashDate.textContent = `${dateStr} â€“ ${timeStr}`;
    }
    updateTime();
    setInterval(updateTime, 60000);
  }
});
</script>



<script>
// Small ripple effect and keyboard accessibility helper
(function (){
function ripple(e){
const btn = e.currentTarget;
const circle = document.createElement('span');
const d = Math.max(btn.clientWidth, btn.clientHeight);
const rect = btn.getBoundingClientRect();
circle.style.width = circle.style.height = d + 'px';
circle.style.left = (e.clientX - rect.left - d/2) + 'px';
circle.style.top = (e.clientY - rect.top - d/2) + 'px';
circle.className = 'royale-ripple';
btn.appendChild(circle);
setTimeout(()=> circle.remove(), 450);
}


document.querySelectorAll('.royale-btn').forEach(btn=>{
btn.addEventListener('click', ripple);
// keyboard: space/enter simulate click visual
btn.addEventListener('keydown', function(ev){ if(ev.key=== 'Enter' || ev.key === ' '){ btn.classList.add('pressed'); setTimeout(()=>btn.classList.remove('pressed'),200); }});
});
})();
</script>


<style>
/* ripple style (scoped small) */
.royale-ripple{ position:absolute; border-radius:50%; transform:scale(0); animation:royale-ripple .45s ease-out; pointer-events:none; background: rgba(255,255,255,0.22); mix-blend-mode: overlay; }
@keyframes royale-ripple{ to{ transform:scale(2.6); opacity:0; } }
</style>



<script>
 const ultraRooms = [
  { room: "Emerald Hall", time: "09:00 - 10:00", status: "available" },
  { room: "Ruby Room", time: "10:00 - 11:00", status: "busy" },
  { room: "Diamond Suite", time: "11:00 - 12:00", status: "pending" },
  { room: "Sapphire Chamber", time: "12:00 - 13:00", status: "available" },
];

function renderUltraAvailability(data) {
  const grid = document.getElementById("royaleUltraGrid");
  grid.innerHTML = "";

  data.forEach(slot => {
    const div = document.createElement("div");
    div.className = `slot-ultra ${slot.status}`;
    div.innerHTML = `
      <div class="slot-room">${slot.room}</div>
      <div class="slot-time">${slot.time}</div>
      <span class="slot-status">${slot.status.toUpperCase()}</span>
    `;

    div.addEventListener("click", () => {
      if (slot.status === "available") {
        alert(`âœ¨ Scheduled: ${slot.room} at ${slot.time}`);
      } else {
        alert(`âš  ${slot.room} is currently ${slot.status}`);
      }
    });

    grid.appendChild(div);
  });

  // Date
  const dateEl = document.getElementById("royaleUltraDate");
  if (dateEl) {
    dateEl.textContent = new Date().toLocaleDateString("en-US", {
      weekday: "long",
      month: "long",
      day: "numeric"
    });
  }
}

renderUltraAvailability(ultraRooms);


</script>

</body>
</html>
